<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Migration Guide from Hibernate Search 5.7 to 5.8 - Hibernate Search</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="description">
    <meta content="Sanne Grinovero, Yoann RodiÃ¨re" name="author">
    <meta CONTENT="default-src 'none'; font-src 'self' data: https://cdn.jsdelivr.net https://static.jboss.org https://in.relation.to https://staging.in.relation.to https://fonts.gstatic.com https://fonts.googleapis.com; style-src 'unsafe-inline' 'self' https://cdn.jsdelivr.net https://fonts.googleapis.com; script-src 'self' 'unsafe-inline' https://in.relation.to https://staging.in.relation.to https://www.redhat.com https://cdn.jsdelivr.net https://code.jquery.com www.google-analytics.com; img-src 'self' https://static.jboss.org https://cdn.jsdelivr.net; base-uri 'none'; form-action 'none'; object-src 'none'" HTTP-EQUIV="Content-Security-Policy">
    <meta HTTP-EQUIV="X-XSS-Protection" content="1; mode=block">
    <meta HTTP-EQUIV="X-Content-Type-Options" content="nosniff">
    <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.2.14/dist/semantic.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/slick-carousel@1.7.1/slick/slick.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/slick-carousel@1.7.1/slick/slick-theme.css" rel="stylesheet">
    <link href="/stylesheets/styles.css?t=1561703173" rel="stylesheet">
    <!-- Defines the project favicon. Change these URLs to your specific project folder on static.jboss.org. -->
    <link href="https://static.jboss.org/hibernate/images/favicon.ico" rel="shortcut icon">
    <link href="https://static.jboss.org/hibernate/images/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144">
    <link href="https://static.jboss.org/hibernate/images/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114">
    <link href="https://static.jboss.org/hibernate/images/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72">
    <link href="https://static.jboss.org/hibernate/images/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.2.14/dist/semantic.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.7.1/slick/slick.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/jquery.matchHeight.min.js"></script>
  </head>
  <body class="pushable">
    <div class="ui vertical inverted sidebar left" id="mobile-menu">
      <div class="ui vertical fluid inverted text menu accordion">
        <div class="item">
          <a class="title">
            <i class="database grid icon"></i>
            <i class="dropdown icon"></i>
            <strong>ORM</strong>
          </a>
          <div class="content">
            <div class="menu internal-links">
              <a class="item" href="/orm/">
                <i class="grid home icon"></i>
                About
              </a>
              <a class="item" href="/orm/releases/">
                <i class="grid icon tags"></i>
                Releases
              </a>
              <a class="item" href="/orm/documentation/">
                <i class="folder grid icon open"></i>
                Documentation
              </a>
              <a class="item" href="/orm/books/">
                <i class="book grid icon"></i>
                Books
              </a>
              <a class="item" href="https://github.com/hibernate/hibernate-orm/wiki/Migration-Guides">
                <i class="grid icon share"></i>
                Migration guides
              </a>
              <a class="item" href="https://github.com/hibernate/hibernate-orm/wiki/Roadmap">
                <i class="grid icon road"></i>
                Roadmap
              </a>
              <a class="item" href="/orm/tooling/">
                <i class="grid icon wrench"></i>
                Tooling
              </a>
              <a class="item" href="/orm/envers/">
                <i class="grid icon time"></i>
                Envers
              </a>
              <a class="item" href="/orm/contribute/">
                <i class="grid icon users"></i>
                Contribute
              </a>
              <a class="item" href="/orm/support/">
                <i class="doctor grid icon"></i>
                Paid support
              </a>
              <a class="item" href="/orm/faq/">
                <i class="circle grid help icon"></i>
                FAQ
              </a>
            </div>
            <div class="menu external-links">
              <a class="item" href="https://github.com/hibernate/hibernate-orm">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HHH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-orm">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
          </div>
        </div>
        <div class="item">
          <a class="active title">
            <i class="grid icon search"></i>
            <i class="dropdown icon"></i>
            <strong>Search</strong>
          </a>
          <div class="active content">
            <div class="menu internal-links">
              <a class="item" href="/search/">
                <i class="grid home icon"></i>
                About
              </a>
              <a class="item" href="/search/releases/">
                <i class="grid icon tags"></i>
                Releases
              </a>
              <a class="active item" href="/search/documentation/">
                <i class="book grid icon"></i>
                Documentation
              </a>
              <a class="item" href="/search/roadmap/">
                <i class="grid icon road"></i>
                Roadmap
              </a>
              <a class="item" href="/search/contribute/">
                <i class="grid icon users"></i>
                Contribute
              </a>
              <a class="item" href="/search/tooling/">
                <i class="grid icon wrench"></i>
                Tooling
              </a>
              <a class="item" href="/search/support/">
                <i class="doctor grid icon"></i>
                Paid support
              </a>
              <a class="item" href="/search/faq/">
                <i class="circle grid help icon"></i>
                FAQ
              </a>
            </div>
            <div class="menu external-links">
              <a class="item" href="https://github.com/hibernate/hibernate-orm">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HHH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-orm">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
          </div>
        </div>
        <div class="item">
          <a class="title">
            <i class="box checkmark grid icon"></i>
            <i class="dropdown icon"></i>
            <strong>Validator</strong>
          </a>
          <div class="content">
            <div class="menu internal-links">
              <a class="item" href="/validator/">
                <i class="grid home icon"></i>
                About
              </a>
              <a class="item" href="/validator/releases/">
                <i class="grid icon tags"></i>
                Releases
              </a>
              <a class="item" href="/validator/documentation/">
                <i class="book grid icon"></i>
                Documentation
              </a>
              <a class="item" href="/validator/roadmap/">
                <i class="grid icon road"></i>
                Roadmap
              </a>
              <a class="item" href="/validator/contribute/">
                <i class="grid icon users"></i>
                Contribute
              </a>
              <a class="item" href="/validator/tooling/">
                <i class="grid icon wrench"></i>
                Tooling
              </a>
              <a class="item" href="/validator/support/">
                <i class="doctor grid icon"></i>
                Paid support
              </a>
              <a class="item" href="/validator/faq/">
                <i class="circle grid help icon"></i>
                FAQ
              </a>
            </div>
            <div class="menu external-links">
              <a class="item" href="https://github.com/hibernate/hibernate-orm">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HHH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-orm">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
          </div>
        </div>
        <div class="item">
          <a class="title">
            <i class="grid icon sitemap"></i>
            <i class="dropdown icon"></i>
            <strong>OGM</strong>
          </a>
          <div class="content">
            <div class="menu internal-links">
              <a class="item" href="/ogm/">
                <i class="grid home icon"></i>
                About
              </a>
              <a class="item" href="/ogm/releases/">
                <i class="grid icon tags"></i>
                Releases
              </a>
              <a class="item" href="/ogm/documentation/">
                <i class="book grid icon"></i>
                Documentation
              </a>
              <a class="item" href="/ogm/roadmap/">
                <i class="grid icon road"></i>
                Roadmap
              </a>
              <a class="item" href="/ogm/contribute/">
                <i class="grid icon users"></i>
                Contribute
              </a>
              <a class="item" href="/ogm/support/">
                <i class="doctor grid icon"></i>
                Paid support
              </a>
              <a class="item" href="/ogm/faq/">
                <i class="circle grid help icon"></i>
                FAQ
              </a>
            </div>
            <div class="menu external-links">
              <a class="item" href="https://github.com/hibernate/hibernate-orm">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HHH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-orm">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
          </div>
        </div>
        <div class="item">
          <a class="title">
            <i class="grid icon wrench"></i>
            <i class="dropdown icon"></i>
            <strong>Tools</strong>
          </a>
          <div class="content">
            <div class="menu internal-links">
              <a class="item" href="/tools/">
                <i class="grid home icon"></i>
                About
              </a>
            </div>
            <div class="menu external-links">
              <a class="item" href="https://github.com/hibernate/hibernate-orm">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HHH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-orm">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
          </div>
        </div>
        <a class="item" href="/others/">
          Others
        </a>
        <div class="item">
          <a class="title">
            <i class="grid icon users"></i>
            <i class="dropdown icon"></i>
            <strong>Community</strong>
          </a>
          <div class="content">
            <div class="menu external-links">
              <a class="item" href="/community/">
                <i class="grid icon users"></i>
                Community
              </a>
              <a class="item" href="/community/contributors/orm/">
                <i class="grid icon database"></i>
                Contributors to ORM
              </a>
              <a class="item" href="/community/contributors/search/">
                <i class="grid icon search"></i>
                Contributors to Search
              </a>
              <a class="item" href="/community/contributors/validator/">
                <i class="grid icon checkmark box"></i>
                Contributors to Validator
              </a>
              <a class="item" href="/community/contributors/ogm/">
                <i class="grid icon sitemap"></i>
                Contributors to OGM
              </a>
              <a class="item" href="/community/corporate-contributors/">
                <i class="grid icon building outline"></i>
                Corporate contributors
              </a>
              <a class="item" href="/community/license/">
                <i class="grid icon legal"></i>
                Licenses
              </a>
            </div>
          </div>
        </div>
        <a class="item" href="https://in.relation.to/">
          Blog
        </a>
        <a class="item" href="https://discourse.hibernate.org/">
          Forums
        </a>
        <a class="item" href="https://twitter.com/hibernate/">
          <i class="icon twitter"></i>
          Follow us
        </a>
      </div>
    </div>
    <div class="pusher">
      <div class="mobile-menu-button-bar mobile only print hidden">
        <a class="item" id="mobile-menu-toggle">
          <i class="sidebar icon"></i>
          Menu
        </a>
      </div>
      <!-- begin accesibility skip to top -->
      <ul class="sr-only">
        <li>
          <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a>
        </li>
        <li>
          <a accesskey="c" href="#content" title="Skip to content">Skip to content</a>
        </li>
      </ul>
      <div class="ui container banner">
        <div class="logo">
          <a href="/">
            <img alt="Hibernate" height="53" src="/images/hibernate-logo.svg" width="200">
          </a>
        </div>
        <div class="clearfix"></div>
        <div class="ui stackable menu mobile hidden print hidden" id="nav">
          <a class="item" href="/orm/">ORM</a>
          <a class="active item" href="/search/">Search</a>
          <a class="item" href="/validator/">Validator</a>
          <a class="item" href="/ogm/">OGM</a>
          <a class="item" href="/tools/">Tools</a>
          <a class="item" href="/others/">Others</a>
          <div class="right menu">
            <a class="item" href="https://in.relation.to/">Blog</a>
            <a class="item" href="https://discourse.hibernate.org/">Forums</a>
            <a class="item" href="/community/">Community</a>
            <a class="item" href="https://twitter.com/hibernate/">
              <i class="twitter icon"></i>
              Follow us
            </a>
          </div>
        </div>
      </div>
      <script>
        var displayed_series = [];
        displayed_series.push('6.0');
        displayed_series.push('5.11');
        displayed_series.push('5.10');
        displayed_series.push('5.9');
        displayed_series.push('5.6');
      </script>
      <div class="jumbotron small">
        <div class="ui container">
          <div class="ui grid stackable">
            <div class="column row">
              <div class="column twelve wide middle aligned">
                <h1>
                  <span>
                    Hibernate Search
                  </span>
                </h1>
                <h2>
                  <span>
                    Migration Guide from Hibernate Search 5.7 to 5.8
                  </span>
                </h2>
              </div>
              <div class="column four wide middle aligned">
                
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="ui container page-content">
        <div class="ui stackable grid">
          <div class="column three wide computer only print hidden">
            <div class="ui fluid vertical menu">
              <a class="item" href="../../..">
                <i class="grid home icon"></i>
                About
              </a>
              <div class="dropdown item link ui">
                Releases
                <i class="icon dropdown"></i>
                <div class="menu">
                  <a class="item" href="../../../releases">
                    Overview
                  </a>
                  <a class="item" href="../../../releases/6.0">
                    6.0
                    &nbsp;&nbsp;
                    <span class="ui label orange">development</span>
                  </a>
                  <a class="item" href="../../../releases/5.11">
                    5.11
                    &nbsp;&nbsp;
                    <span class="ui label green">latest stable</span>
                  </a>
                  <a class="item" href="../../../releases/5.10">
                    5.10
                  </a>
                  <a class="item" href="../../../releases/5.9">
                    5.9
                  </a>
                  <a class="item" href="../../../releases/5.6">
                    5.6
                  </a>
                </div>
              </div>
              <a class="item selected" href="../..">
                <i class="book grid icon"></i>
                Documentation
              </a>
              <a class="item" href="../../../roadmap">
                <i class="grid icon road"></i>
                Roadmap
              </a>
              <a class="item" href="../../../contribute">
                <i class="grid icon users"></i>
                Contribute
              </a>
              <a class="item" href="../../../tooling">
                <i class="grid icon wrench"></i>
                Tooling
              </a>
              <a class="item" href="../../../support">
                <i class="doctor grid icon"></i>
                Paid support
              </a>
              <a class="item" href="../../../faq">
                <i class="circle grid help icon"></i>
                FAQ
              </a>
            </div>
            <div class="ui fluid vertical menu">
              <a class="item" href="https://github.com/hibernate/hibernate-search">
                <i class="code grid icon"></i>
                Source code
              </a>
              <a class="item" href="https://hibernate.atlassian.net/browse/HSEARCH">
                <i class="bug grid icon"></i>
                Issue tracker
              </a>
              <a class="item" href="https://access.redhat.com/security/team/contact/">
                <i class="grid icon lock"></i>
                Security issue
              </a>
              <a class="item" href="https://discourse.hibernate.org/c/hibernate-search">
                <i class="comments grid icon"></i>
                Forum
              </a>
              <a class="item" href="https://community.jboss.org/en/hibernate/search">
                <i class="edit grid icon"></i>
                Wiki
              </a>
              <a class="item" href="https://ci.hibernate.org/job/hibernate-search/">
                <i class="grid icon treatment"></i>
                CI
              </a>
            </div>
            <hr>
            <div class="license">
              Released under the
              <a href="https://raw.github.com/hibernate/hibernate-search/master/lgpl.txt">LGPL v2.1</a>
            </div>
          </div>
          <div class="column thirteen wide computer sixteen wide mobile">
            <div class="content" id="content">
              <div id="preamble">
              <div class="sectionbody">
              <div class="paragraph">
              <p>Here we are helping you migrate your existing Search application to the latest and greatest.</p>
              </div>
              </div>
              <div id="toc" class="toc">
              <div id="toctitle">Content</div>
              <ul class="sectlevel1">
              <li><a href="#upgrade-to-hibernate-search-5-8-x-from-5-7-x">Upgrade to Hibernate Search 5.8.x from 5.7.x</a>
              <ul class="sectlevel2">
              <li><a href="#requirements">Requirements</a></li>
              <li><a href="#configuration-changes">Configuration changes</a></li>
              <li><a href="#api-changes">API changes</a></li>
              <li><a href="#spi-changes">SPI changes</a></li>
              </ul>
              </li>
              </ul>
              </div>
              </div>
              <div class="sect1">
              <h2 id="upgrade-to-hibernate-search-5-8-x-from-5-7-x"><a class="anchor" href="#upgrade-to-hibernate-search-5-8-x-from-5-7-x"></a>Upgrade to Hibernate Search 5.8.x from 5.7.x</h2>
              <div class="sectionbody">
              <div class="paragraph">
              <p>The aim of this guide is to assist you migrating an existing application using any version <code>5.7.x</code> of Hibernate Search to the latest of the <code>5.8.x</code> series.
              If you&#8217;re looking to migrate different versions see <a href="/search/documentation/migrate">Hibernate Search migration guides</a>.</p>
              </div>
              <div class="admonitionblock note">
              <table>
              <tr>
              <td class="icon">
              <i class="fa icon-note" title="Note"></i>
              </td>
              <td class="content">
              This document provides pointers for a migration.
              It refers to Hibernate Search version <code>5.8.0.Final</code>. If you think something is missing or something does not work, please <a href="/community">contact us</a>.
              </td>
              </tr>
              </table>
              </div>
              <div class="sect2">
              <h3 id="requirements"><a class="anchor" href="#requirements"></a>Requirements</h3>
              <div class="paragraph">
              <p>The basic requirements didn&#8217;t change.</p>
              </div>
              </div>
              <div class="sect2">
              <h3 id="configuration-changes"><a class="anchor" href="#configuration-changes"></a>Configuration changes</h3>
              <div class="paragraph">
              <p><code>hibernate.search.index_uninverting_allowed</code> now defaults to <code>false</code>,
              resulting in exceptions being thrown when you attempt to sort on a field that hasn&#8217;t been marked with <code>@SortableField</code>,
              instead of simply logging a warning.</p>
              </div>
              <div class="paragraph">
              <p>A new request timeout, set to 60s by default, has been added:
              <code>hibernate.search.default.elasticsearch.request_timeout</code>.
              If you execute requests taking more than 60s, you will have to raise this timeout,
              as well as the others (socket timeout, &#8230;&#8203;).
              See <a href="https://docs.jboss.org/hibernate/search/5.8/reference/en-US/html_single/#elasticsearch-integration-configuration">the documentation</a>
              for more information.</p>
              </div>
              <div class="paragraph">
              <p>Index schema management strategy options in the Elasticsearch integration
              have been renamed to be more in line with the similar JPA options:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>none</code> stays the same</p>
              </li>
              <li>
              <p><code>validate</code> stays the same</p>
              </li>
              <li>
              <p><code>merge</code> is now <code>update</code></p>
              </li>
              <li>
              <p><code>create</code> stays the same</p>
              </li>
              <li>
              <p><code>recreate</code> is now <code>drop-and-create</code></p>
              </li>
              <li>
              <p><code>recreate-delete</code> is now <code>drop-and-create-and-drop</code></p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>The <code>ram</code> directory provider has been renamed to <code>local-heap</code>.
              The <code>ram</code> name still works, but will be removed in a future version.</p>
              </div>
              <div class="paragraph">
              <p>Pretty-printing of JSON in logs is now disabled by default.
              It can be enabled using the configuration option
              <code>hibernate.search.elasticsearch.log.json_pretty_printing</code>.</p>
              </div>
              </div>
              <div class="sect2">
              <h3 id="api-changes"><a class="anchor" href="#api-changes"></a>API changes</h3>
              <div class="paragraph">
              <p>Below are the changes on application programming interfaces that require changes on the existing implementations or clients.
              Please refer to the javadoc for the expected behavior of changed/added methods.</p>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.jpa.FullTextQuery</code>, <code>org.hibernate.search.FullTextQuery</code>, <code>org.hibernate.search.jpa.FullTextEntityManager</code>, <code>org.hibernate.search.FullTextSession</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Internal changes related to merging the JPA implementations with the native ones
              may result in some differences in the type of exceptions being thrown.
              If you have specific exception handling code around full-text query execution,
              you may want to test it again.
              See <a href="https://github.com/hibernate/hibernate-search/commit/38fc9b864e6a279eccb84a15c14002dce61df4fa">this commit message</a>
              for more information.</p>
              </li>
              <li>
              <p><code>FullTextEntityManager#getDelegate()</code> now returns the actual delegate
              (it used to return the delegate&#8217;s delegate).</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>Full-text filters:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>.filterBy()</code> in the query DSL now accepts any <code>org.apache.lucene.search.Query</code> instance,
              and not to just <code>org.apache.lucene.search.Filter</code> instances.</p>
              </li>
              <li>
              <p>Full-text filters can now be implemented with any <code>org.apache.lucene.search.Query</code> instance,
              and do not limit you to using only <code>org.apache.lucene.search.Filter</code> instances.</p>
              </li>
              <li>
              <p>Since the <code>org.apache.lucene.search.Filter</code> type is deprecated in Lucene
              and will ultimately be removed,
              you are encouraged to move away from using it.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>Analyzer definition providers:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Interfaces of analyzer definition providers moved since they were first introduced as experimental concepts.
              Their new locations are:</p>
              <div class="ulist">
              <ul>
              <li>
              <p><code>org.hibernate.search.analyzer.definition.LuceneAnalysisDefinitionProvider</code></p>
              </li>
              <li>
              <p><code>org.hibernate.search.elasticsearch.analyzer.definition.ElasticsearchAnalysisDefinitionProvider</code></p>
              </li>
              </ul>
              </div>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>Sortable fields:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Sort fields are now expected to either be assigned a normalizer,
              or to not be analyzed at all.
              You can find out more about normalizers in the reference documentation:</p>
              <div class="ulist">
              <ul>
              <li>
              <p><a href="https://docs.jboss.org/hibernate/search/5.8/reference/en-US/html_single/#section-normalizers">main documentation</a></p>
              </li>
              <li>
              <p><a href="https://docs.jboss.org/hibernate/search/5.8/reference/en-US/html_single/#_normalizers">Elasticsearch specifics</a></p>
              </li>
              </ul>
              </div>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>@DynamicBoost</code>, <code>@Boost</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Index-time boosting capabilities have been deprecated.
              Index-time boosting will not be possible anymore starting from Lucene 7.
              You should use query-time boosting instead, for instance by calling
              <code>org.hibernate.search.query.dsl.FieldCustomization#boostedTo(float)</code>
              when building queries with the Hibernate Search query DSL.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.annotations.Parameter</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Using multiple <code>@Parameter</code> with the same name in the same array of parameters
              will now trigger an exception.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>Please also note those new features that may help when writing new code, but don&#8217;t require any change to existing code:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>.must()</code> / <code>.should</code> in the <code>QueryBuilder</code> now accept (and ignore) <code>null</code> queries.</p>
              </li>
              <li>
              <p><code>QueryBuilder</code> now offers a new <code>queryString</code> method,
              allowing to execute queries written by end users in a controlled way.
              See <a href="http://in.relation.to/2017/04/27/simple-query-string-what-about-it/">this blog post</a>
              for more information.</p>
              </li>
              <li>
              <p><code>FullTextSession.unwrap( FullTextSession.class )</code> now works correctly
              (it used to throw an exception).</p>
              </li>
              </ul>
              </div>
              </div>
              <div class="sect2">
              <h3 id="spi-changes"><a class="anchor" href="#spi-changes"></a>SPI changes</h3>
              <div class="paragraph">
              <p>Below are the changes on service provider interfaces that require changes on the existing implementations or clients.
              Please refer to the javadoc for the expected behavior of changed/added methods.</p>
              </div>
              <div class="paragraph">
              <p>General changes:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>org.hibernate.search.spi.IndexedTypeIdentifier</code> is now used throughout our SPIs
              to refer to indexed types instead of <code>java.lang.Class</code>.
              Many methods accepting or returning <code>Class</code> have been replaced
              with new versions accepting or returning <code>IndexedTypeIdentifier</code>.
              If you use <code>DeleteByQueryWork</code>, you might need to convert a <code>Class&lt;?&gt;</code> to an <code>IndexedTypeIdentifier</code>:
              in that case, use <code>searchIntegrator.getIndexBindings().keyFromPojoType( myClass )</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.backend.spi.BackendQueueProcessor</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>Backends are now expected to plug into Hibernate Search by registering a <code>org.hibernate.search.backend.spi.Backend</code> service,
              instead of a <code>org.hibernate.search.backend.spi.BackendQueueProcessor</code>.
              The backend will then create the queue processors when requested.
              The previous mechanism of registering a <code>org.hibernate.search.backend.spi.BackendQueueProcessor</code>
              is still supported, but has been deprecated and will be removed in a future version.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.query.engine.spi.HSQuery</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>the <code>filter(Filter)</code> method is now deprecated and will be removed in a future version.
              Use a full-text filter instead, or handle filtering using boolean junctions when building the query.</p>
              </li>
              <li>
              <p>the <code>targetedTypes</code> methods have been removed.
              Target type information should now be passed when creating the query.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.spi.SearchIntegrator</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>the deprecated <code>createHSQuery()</code> method has been removed. Use <code>createHSQuery(Query, Class&#8230;&#8203;)</code> instead.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.spi.BuildContext</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>the deprecated <code>getIndexingStrategy()</code> method has been removed in favor of <code>getIndexingMode()</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.spi.SearchIntegratorBuilder</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>the deprecated <code>getIndexingStrategy()</code> method has been removed in favor of <code>getIndexingMode()</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.spi.SearchFactoryBuilder</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>this interface has been removed in favor of <code>org.hibernate.search.spi.SearchIntegratorBuilder</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.spi.SearchFactoryIntegrator</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>this interface has been removed in favor of <code>org.hibernate.search.spi.SearchIntegrator</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p>The changes below are unlikely to impact anyone, but are mentioned here for the sake of completeness.</p>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.indexes.spi.IndexManagerType</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getMissingValueStrategy()</code> has been replaced with
              <code>createMissingValueStrategy(ServiceManager serviceManager, SearchConfiguration cfg)</code>.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.query.engine.spi.QueryDescriptor</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>createHSQuery(SearchIntegrator)</code> has been removed</p>
              </li>
              <li>
              <p>a new method <code>createHSQuery(SearchIntegrator, IndexedTypeSet)</code> has been added.</p>
              </li>
              <li>
              <p>a new method <code>createHSQuery(SearchIntegrator, List&lt;CustomTypeMetadata&gt;)</code> has been added.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.engine.spi.EntityIndexBinding</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getSelectionStrategy()</code> has been replaced with <code>getIndexManagerSelector()</code></p>
              </li>
              <li>
              <p><code>getIndexManagers()</code> has been removed. Use <code>getIndexManagerSelector().all()</code> instead.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.engine.spi.AbstractDocumentBuilder</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getMetadata()</code> has been removed in favor of <code>getTypeMetadata()</code>.</p>
              </li>
              <li>
              <p><code>close()</code> has been removed.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.analyzer.spi.AnalyzerStrategy</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>a new method <code>createProvidedAnalyzerReferences()</code> has been added.</p>
              </li>
              <li>
              <p><code>initializeAnalyzerReferences(Collection, Map)</code> has been replaced with
              <code>void initializeAnalyzerReferences(Collection, Map, Collection, Map)</code>.</p>
              </li>
              <li>
              <p>a new method <code>createProvidedNormalizerReferences()</code> has been added.</p>
              </li>
              <li>
              <p>a new method <code>createNamedNormalizerReference(String)</code> has been added.</p>
              </li>
              <li>
              <p>a new method <code>createLuceneClassNormalizerReference(String)</code> has been added.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.analyzer.spi.ScopedAnalyzerReference</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getAnalyzer()</code> has been removed.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.analyzer.spi.ScopedAnalyzer</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p>this class has been removed.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.analyzer.spi.AnalyzerReference</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getAnalyzer()</code> has been removed.</p>
              </li>
              <li>
              <p>a new method <code>isNormalizer(String)</code> has been added.</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.store.spi.DirectoryHelper</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>getVerifiedIndexDir(String, Properties, boolean)</code> has been removed</p>
              </li>
              </ul>
              </div>
              <div class="paragraph">
              <p><code>org.hibernate.search.store.spi.LockFactoryCreator</code>:</p>
              </div>
              <div class="ulist">
              <ul>
              <li>
              <p><code>createLockFactory</code> now expects a <code>Path</code> instead of a <code>File</code>.</p>
              </li>
              </ul>
              </div>
              </div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        $(document).ready(function() {
          $('.ui.menu .ui.dropdown').dropdown({ on: 'hover' });
        });
      </script>
      <div class="ui inverted vertical footer segment print hidden">
        <div class="ui container">
          <div class="ui stackable inverted divided equal height stackable grid">
            <div class="three wide column">
              <h4 class="ui inverted header">Projects</h4>
              <div class="ui inverted link list">
                <a class="item" href="../../../../orm" title="Hibernate ORM">Hibernate ORM</a>
                <a class="item" href="../../.." title="Search">Hibernate Search</a>
                <a class="item" href="../../../../validator" title="Hibernate Validator">Hibernate Validator</a>
                <a class="item" href="../../../../ogm" title="Hibernate OGM">Hibernate OGM</a>
                <a class="item" href="../../../../tools" title="Hibernate Tools">Hibernate Tools</a>
                <a class="item" href="../../../../others" title="Other projects">Other projects</a>
              </div>
            </div>
            <div class="three wide column">
              <h4 class="ui inverted header">Follow us</h4>
              <div class="ui inverted link list">
                <a class="item" href="https://in.relation.to/" title="Blog">Blog</a>
                <a class="item" href="https://twitter.com/hibernate/" title="Twitter">Twitter</a>
                <a class="item" href="https://plus.google.com/112681342290762837955/posts" title="Google+">Google+</a>
              </div>
            </div>
            <div class="five wide column">
              <h4 class="ui inverted header">Contribute and community</h4>
              <div class="ui inverted link list">
                <a class="item" href="../../../../community" title="Community resources">Community resources</a>
                <a class="item" href="https://github.com/hibernate/">Our GitHub organization</a>
                <a class="item" href="https://hibernate.atlassian.net/" title="Submit a bug">Submit a bug</a>
                <a class="item" href="https://discourse.hibernate.org/" title="Submit a bug">Our forums</a>
                <a class="item" href="https://access.redhat.com/security/team/contact/" title="Report a security issue">Report a security issue</a>
              </div>
            </div>
            <div class="five wide column sponsor">
              <div class="logo">
                <a href="https://www.redhat.com/">
                  <img src="../../../../images/sponsored-by-redhat.svg" style="height: 44px; width: auto;" title="Red Hat">
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <span class="back-to-top computer only">
        <a href="javascript: void(0)">Back to top</a>
      </span>
    </div>
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-45270411-1', 'auto');
    ga('send', 'pageview');
    
    </script>
    <script>
      $(function() {
        $('#mobile-menu').sidebar('setting', {
          transition: 'push'
        });
        $('#mobile-menu').sidebar('attach events', '#mobile-menu-toggle');
      
        $('.ui.accordion').accordion();
      
        $(window).scroll(function(e) {
          if($(this).scrollTop()>150){
            $('.back-to-top').fadeIn(1000); // Fading in the button on scroll after 150px
          }
          else {
            $('.back-to-top').fadeOut(500); // Fading out the button on scroll if less than 150px
          }
        });
      
          $('.back-to-top').click(function(e) {
            $('body, html').animate({scrollTop:0}, 800);
          });
        });
    </script>
  </body>
</html>

<!DOCTYPE html> <html lang="en"> <head> <title>Hibernate OGM FAQ - Hibernate OGM</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="Emmanuel Bernard" name="author"> <link href="http://static.jboss.org/theme/css/bootstrap-community/2.3.1.3/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link href="../../stylesheets/styles.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="http://static.jboss.org/images/hibernate/favicon.ico" rel="shortcut icon"> <link href="http://static.jboss.org/images/hibernate/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="http://static.jboss.org/images/hibernate/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="http://static.jboss.org/images/hibernate/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="http://static.jboss.org/images/hibernate/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <style>
      @media (min-width: 980px) {
        .banner { background-image: url(http://static.jboss.org/images/hibernate/hibernate-banner-1180px.png); height: 110px;  }
      }
      @media (max-width: 979px) {
        .banner { background-image: url(http://static.jboss.org/images/hibernate/hibernate-logo.png); background-repeat:no-repeat; height: 60px; }
      }
      @media (max-width: 650px) {
        .banner { width: 200px; margin: 0px auto; }
      }
    </style> <script src="http://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> </head> <body> <div id="subproject"> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div id="logobar"> <div class="dropup"> <a class="tabnav-closed" href="https://www.jboss.org" id="tab">Red Hat</a> <script>
              window.addEventListener('load', function() { renderTabzilla("Hibernate OGM","ogm") }, false);
            </script> </div> <a href="/"> <img src="http://static.jboss.org/hibernate/images/hibernate_logo_whitebkg_200px.png"> </a> </div> <div class="navbar navbar-inverse"> <div class="navbar-inner"> <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> <div class="nav-collapse collapse"> <ul class="nav pull-left"> <li class=""><a href="/orm/">ORM</a></li> <li class=""><a href="/search/">Search</a></li> <li class=""><a href="/validator/">Validator</a></li> <li class="active"><a href="/ogm/">OGM</a></li> <li class=""><a href="/tools/">Tools</a></li> <li class=""><a href="/others/">Others</a></li> </ul> <ul class="nav pull-right"> <li><a href="http://in.relation.to">Blog</a></li> <li><a href="../../community">Community</a></li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#">Follow Us <b class="caret"></b></a> <ul class="dropdown-menu projectsocialmedia"> <li><a href="https://twitter.com/hibernate"><img src="http://static.jboss.org/theme/images/common/socialmedia_icon40_twitter.png"></a></li> <li><a href="https://plus.google.com/112681342290762837955/posts"><img src="http://static.jboss.org/theme/images/common/socialmedia_icon40_googleplus.png"></a></li> </ul> </li> </ul> </div> </div> </div> <div class="row-fluid"> <div class="span2"> <div class="project-menu"> <div class="text-center project-menu-title"> <span class="icon-stack"> <i class="icon-circle icon-stack-base icon-fixed-width"></i> <i class="icon icon-light icon-fixed-width icon-sitemap"></i> </span> </div> <ul class="nav nav-list"> <li class=""> <a href=".."> <i class="icon-fixed-width icon-home menu-icon"></i> About </a> </li> <li class=""> <a href="../downloads"> <i class="icon-fixed-width icon-cloud-download menu-icon"></i> Downloads </a> </li> <li class=""> <a href="../documentation"> <i class="icon-fixed-width icon-book menu-icon"></i> Documentation </a> </li> <li class=""> <a href="../support"> <i class="icon-fixed-width icon-user-md menu-icon"></i> Paid support </a> </li> <li class="active"> <a href="."> <i class="icon-fixed-width icon-question menu-icon"></i> FAQ </a> </li> <li class=""> <a href="../roadmap"> <i class="icon-fixed-width icon-road menu-icon"></i> Roadmap </a> </li> <li class=""> <a href="../contribute"> <i class="icon-fixed-width icon-beer menu-icon"></i> Contribute </a> </li> <li class="divider"></li> <li> <a href="https://community.jboss.org/en/hibernate/ogm"> <i class="icon-fixed-width icon-edit menu-icon"></i> Wiki </a> </li> <li> <a href="https://hibernate.atlassian.net/browse/OGM"> <i class="icon-fixed-width icon-exclamation-sign menu-icon"></i> Issues </a> </li> <li> <a href="https://forum.hibernate.org/viewforum.php?f=31"> <i class="icon-fixed-width icon-comments menu-icon"></i> Forum </a> </li> <li> <a href="https://github.com/hibernate/hibernate-ogm"> <i class="icon-fixed-width icon-code menu-icon"></i> Source code </a> </li> <li> <a href="http://ci.hibernate.org/job/hibernate-ogm-master/"> <i class="icon-fixed-width icon-stethoscope menu-icon"></i> CI </a> </li> </ul> </div> <hr class="divider"> <div class="license text-center"> Released under the <a href="http://www.gnu.org/licenses/lgpl.html">LGPL</a> </div> </div> <div class="span10"> <div class="row-fluid"> <div class="visible-desktop project-title-desktop"> <div class="pull-left"> <h1>Hibernate OGM FAQ</h1> </div> </div> <div class="hidden-desktop"> <div class="project-title-phone text-center"> <div> <h1>Hibernate OGM FAQ</h1> </div> </div> </div> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>You&#8217;ve got a question burning you? We might have the answer for you.</p> </div> </div> <div id="toc" class="toc"> <div id="toctitle">Questions</div> <ul class="sectlevel1"> <li><a href="#design-for-hibernate-ogm">Design for Hibernate OGM</a></li> <li> <ul class="sectlevel2"> <li><a href="#why-is-there-so-few-entries-in-this-faq">Why is there so few entries in this FAQ?</a></li> <li><a href="#is-jpa-a-good-fit-for-nosql">Is JPA a good fit for NoSQL?</a></li> </ul> </li> <li><a href="#using-hibernate-ogm">Using Hibernate OGM</a></li> <li> <ul class="sectlevel2"> <li><a href="#how-does-hibernate-ogm-handle-transactions">How does Hibernate OGM handle transactions?</a></li> <li><a href="#my-changes-are-not-applied-to-the-backend-where-is-the-bug">My changes are not applied to the backend, where is the bug?</a></li> <li><a href="#how-can-i-query">How can I query?</a></li> </ul> </li> <li><a href="#developers-of-hibernate-ogm">Developers of Hibernate OGM</a></li> <li> <ul class="sectlevel2"> <li><a href="#how-to-skip-some-tests-while-in-the-development-of-a-new-code-dialect-code">How to skip some tests while in the development of a new <code>Dialect</code>?</a></li> </ul> </li> </ul> </div> </div> <div class="sect1"> <h2 id="design-for-hibernate-ogm"><a class="anchor" href="#design-for-hibernate-ogm"></a>Design for Hibernate OGM</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="why-is-there-so-few-entries-in-this-faq"><a class="anchor" href="#why-is-there-so-few-entries-in-this-faq"></a>Why is there so few entries in this FAQ?</h3> <div class="paragraph"> <p>Because Hibernate OGM is so well designed that you get it right away.</p> </div> <div class="paragraph"> <p>More seriously, this is a work in progress. If you have questions that you feel should be there, <a href="/community/">contact us</a>.</p> </div> </div> <div class="sect2"> <h3 id="is-jpa-a-good-fit-for-nosql"><a class="anchor" href="#is-jpa-a-good-fit-for-nosql"></a>Is JPA a good fit for NoSQL?</h3> <div class="paragraph"> <p>That&#8217;s the million dollars question but in essence, yes we think it is a good fit. Here is quickly a few key reasons why JPA makes sense.</p> </div> <div class="dlist"> <dl> <dt class="hdlist1">Benefits of the abstraction level</dt> <dd> <p>JPA abstracts persistence at the object level, leaving room for a lot of tricks and optimizations. To name a few, think about <em>declarative data / schema migration, declarative denormalization, polyglot persistence</em>. Polyglot persistence is particularly interesting: storing data in several datastores and use the best one for a specific read job.</p> <div class="paragraph"> <p>Of course if your dataset is by nature non domain model centric, then Hibernate OGM is not for you.</p> </div> </dd> <dt class="hdlist1">Things just fit</dt> <dd> <p>While we were skeptic initially, most of the logical model of JPA fit. For example, an <code>@Embeddable</code> object or <code>@ElementCollection</code> nicely fit the document datastore approach of nesting related objects.</p> <div class="paragraph"> <p>We work hard in Hibernate OGM to use the most natural mapping for a given data pattern and we offer you the ability to override that if needed.</p> </div> </dd> <dt class="hdlist1">Known semantic and APIs</dt> <dd> <p>For better or worse, JPA is known to Java developers. They are familiar with its API and semantic. That&#8217;s a huge win compared to learning a specific lower level API or worse some pseudo-ORM level API. And we support both HQL and native backend queries!</p> </dd> <dt class="hdlist1">Late backend choice</dt> <dd> <p>Choosing an NoSQL engine is not trivial. Having the freedom to switch backends without having to rewrite all of your data layer is certainly something to appreciate.</p> </dd> </dl> </div> </div> </div> </div> <div class="sect1"> <h2 id="using-hibernate-ogm"><a class="anchor" href="#using-hibernate-ogm"></a>Using Hibernate OGM</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="how-does-hibernate-ogm-handle-transactions"><a class="anchor" href="#how-does-hibernate-ogm-handle-transactions"></a>How does Hibernate OGM handle transactions?</h3> <div class="paragraph"> <p>Like Hibernate ORM, Hibernate OGM is orthogonal and agnostic to transactions, but integrates the flush event to them when possible.</p> </div> <div class="paragraph"> <p>Make sure to demarcate your transaction either via your application container or via the Hibernate OGM transaction demarcation methods. The reference documentation details how to set up Hibernate OGM in various transaction environments.</p> </div> <div class="paragraph"> <p>Note that even if your datastore does not support transactions, we recommend you use transaction demarcations with Hibernate OGM to trigger the flush operation transparently (on commit). But do not consider rollback as a possibility, this won’t work.</p> </div> </div> <div class="sect2"> <h3 id="my-changes-are-not-applied-to-the-backend-where-is-the-bug"><a class="anchor" href="#my-changes-are-not-applied-to-the-backend-where-is-the-bug"></a>My changes are not applied to the backend, where is the bug?</h3> <div class="paragraph"> <p>Most likely, you forgot to demarcate the transactions or manually call <code>flush()</code>.</p> </div> <div class="paragraph"> <p>Even if your datastore does not support transactions, we recommend you use transaction demarcations with Hibernate OGM to trigger the flush operation transparently (on commit). But do not consider rollback as a possibility, this won’t work.</p> </div> </div> <div class="sect2"> <h3 id="how-can-i-query"><a class="anchor" href="#how-can-i-query"></a>How can I query?</h3> <div class="paragraph"> <p>There are three main methods:</p> </div> <div class="ulist"> <ul> <li> <p>using Hibernate Search as indexing engine and use full-text queries</p> </li> <li> <p>using JP-QL (we convert it into a native backend query)</p> </li> <li> <p>pass a native backend query and bind it to the entity</p> </li> </ul> </div> <div class="paragraph"> <p>The reference documentation details the various options.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="developers-of-hibernate-ogm"><a class="anchor" href="#developers-of-hibernate-ogm"></a>Developers of Hibernate OGM</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="how-to-skip-some-tests-while-in-the-development-of-a-new-code-dialect-code"><a class="anchor" href="#how-to-skip-some-tests-while-in-the-development-of-a-new-code-dialect-code"></a>How to skip some tests while in the development of a new <code>Dialect</code>?</h3> <div class="paragraph"> <p>To skip all tests (from the core suite) for example related to associations, add this configuration to the Maven Surefire plugin:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay"><code class="xml language-xml"><span style="color:#070">&lt;excludes&gt;</span>&#x000A;    <span style="color:#070">&lt;exclude&gt;</span>**/associations/**/*Test.java<span style="color:#070">&lt;/exclude&gt;</span>&#x000A;<span style="color:#070">&lt;/excludes&gt;</span></code></pre> </div> </div> <div class="paragraph"> <p>So the plugin configuration can look like:</p> </div> <div class="listingblock"> <div class="title">pom.xml</div> <div class="content"> <pre class="CodeRay"><code class="xml language-xml"><span style="color:#070">&lt;build&gt;</span>&#x000A;    <span style="color:#070">&lt;plugins&gt;</span>&#x000A;        <span style="color:#070">&lt;plugin&gt;</span>&#x000A;            <span style="color:#070">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#070">&lt;/groupId&gt;</span>&#x000A;            <span style="color:#070">&lt;artifactId&gt;</span>maven-surefire-plugin<span style="color:#070">&lt;/artifactId&gt;</span>&#x000A;            <span style="color:#070">&lt;configuration&gt;</span>&#x000A;                <span style="color:#070">&lt;excludes&gt;</span>&#x000A;                    <span style="color:#070">&lt;exclude&gt;</span>**/associations/**/*Test.java<span style="color:#070">&lt;/exclude&gt;</span>&#x000A;                <span style="color:#070">&lt;/excludes&gt;</span>&#x000A;                <span style="color:#070">&lt;forkMode&gt;</span>once<span style="color:#070">&lt;/forkMode&gt;</span>&#x000A;            <span style="color:#070">&lt;/configuration&gt;</span>&#x000A;        <span style="color:#070">&lt;/plugin&gt;</span>&#x000A;    <span style="color:#070">&lt;/plugins&gt;</span>&#x000A;<span style="color:#070">&lt;/build&gt;</span></code></pre> </div> </div> </div> </div> </div> </div> </div> </div> <footer class="container"> <div class="row-fluid"> <div class="span3 offset2"> <h4>Projects</h4> <ul> <li> <a href="../../orm" title="Hibernate ORM">Hibernate ORM</a> </li> <li> <a href="../../search" title="Search">Hibernate Search</a> </li> <li> <a href="../../validator" title="Hibernate Validator">Hibernate Validator</a> </li> <li> <a href=".." title="Hibernate OGM">Hibernate OGM</a> </li> <li> <a href="../../tools" title="Hibernate Tools">Hibernate Tools</a> </li> <li> <a href="../../others" title="Other projects">Other projects</a> </li> </ul> </div> <div class="span3"> <h4>Follow Us</h4> <ul> <li> <a href="http://in.relation.to" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/hibernate/" title="Twitter">Twitter</a> </li> <li> <a href="https://plus.google.com/112681342290762837955/posts" title="Google+">Google+</a> </li> </ul> </div> <div class="span3"> <h4>Contribute and community</h4> <ul> <li> <a href="../../community" title="Community resources">Community resources</a> </li> <li> <a href="https://hibernate.atlassian.net" title="Submit a bug">Submit a bug</a> </li> </ul> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="row-fluid"> <div class="span6 redhatlogo text-center"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="http://static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> <div class="span6 redhatlogo text-center"> <div id="logospacer"></div> <a href="http://www.jboss.org/"> <img src="http://static.jboss.org/theme/images/common/jbossbadge.png"> </a> </div> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="../../javascripts/bootstrap-community.min.js"></script> <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount','UA-45270411-1']);
      _gaq.push(['_trackPageview']);
      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
      </script> </div> </body> </html>